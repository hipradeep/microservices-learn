# Server configuration
server:
  port: 8084  # Port on which the API Gateway will run

# Spring application configuration
spring:
  application:
    name: API-GATEWAY  # Name of the microservice (for Eureka and logs)

  cloud:
    gateway:
      routes:

        # Route for USER-SERVICE
        - id: USER-SERVICE
          uri: lb://USER-SERVICE  # Load-balanced URI using Eureka
          predicates:
            - Path=/users/**  # Any request starting with /users/ will be routed here

        # Route for HOTEL-SERVICE
        - id: HOTEL-SERVICE
          uri: lb://HOTEL-SERVICE
          predicates:
            # Routes both /hotels/** and /staffs/** to HOTEL-SERVICE
            - Path=/hotels/**,/staffs/**

        # Route for RATING-SERVICE
        - id: RATING-SERVICE
          uri: lb://RATING-SERVICE
          predicates:
            - Path=/ratings/**  # Routes all /ratings/** requests

# Eureka client configuration for service discovery
eureka:
  instance:
    prefer-ip-address: true  # Register IP instead of hostname
  client:
    fetch-registry: true     # Enable fetching service registry
    register-with-eureka: true  # Register this gateway with Eureka
    service-url:
      defaultZone: http://localhost:8761/eureka  # Eureka server URL


